 This is security now, episode 14, for November 16, 2005, VPNs.
 And Steve Gibson and I are here in the dark call for help studio.
 The white studio on a lunch break.
 Yes, there is.
 Run away to get their wraps.
 But we're going to talk about, actually, let's start by talking about issues that came
 up from our last episode.
 Yeah, there's been some additional news over on the Sony front.
 Okay.
 Sony has now backed away officially from offering copy protected DRM base CDs.
 All of this rootkit nightmare that they've stumbled into has caused so much trouble that
 they've said, okay, we're going to remove, exactly, we give up, we're going to remove
 this from our stuff and apparently even recall existing inventory that's out in the retail
 channel.
 It's been a huge problem.
 I did notice that they said remove temporarily.
 So I think they're reserving the right to put copy protection in, but just not that copy
 protection.
 One of the nicest things I read somewhere, and I can't remember now where it was, it
 was in the last week, somebody was interviewed and said, Sony needs to understand that while
 it is their intellectual property, it's their copy written material, it's not their computer.
 Right.
 It's the user's computer.
 And I'll be honest, from reading the comments from Sony executives, I don't think they get
 that yet.
 No.
 They still believe that they in the pursuit of protecting their intellectual property rights
 to that music can modify your system, and I think that they're going to try some other
 way of doing it.
 Well, and that's, of course, the good thing about this as a precedent setting event is
 that hopefully this is going to demonstrate to people where the boundaries are for DRM,
 what you can and you cannot do.
 And there was also a report that this is apparently installed in as many as 500,000 machines.
 One expert said that.
 Are now carrying this technology.
 And those machines in all likelihood are never going to be disinfected, but it's too difficult
 to do.
 And their users probably don't even know.
 I was going to say, yes, we're certainly reaching with our podcast, an upper and technically
 competent, really aware audience.
 Most people who just stick the audio CD, I mean, I don't play audio CDs in my computer.
 Right.
 Because it's not something I've ever done.
 It just sort of seems wrong.
 But what I do is I rip them.
 I do put them in there to move them to your players.
 Yeah.
 Yes.
 That is, you know, the key there is not to not to play it.
 You press the shift key not to run the auto run, but I have to point out something.
 Now I don't, I haven't verified this and we're going to get a disc and you're going to verify
 this.
 Somebody said that even if you say no to the EULA, it's already too late.
 They've already installed the software.
 They haven't activated, but it is on your system already.
 So it's not running, the EULA is required before they say, okay, auto run, right?
 The EULA is what puts it into the registry or whatever so that it starts every time you
 boot the machine.
 But even before the EULA, the EULA runs as a consequence of having installed the software.
 So now I haven't verified that, but if that's the case, I mean, it's just a mess.
 It's just a nasty mess.
 Okay.
 So that's the Sony rootkit.
 Let's talk a little bit about WPA because that's what we talked about last week.
 Right.
 So we got one comment back from someone who had a point that I wanted to bring up and
 he said, hey, Steve, I took a fence or objection or exception to you saying that WPA was completely
 uncrackable.
 He said there are WPA cracking tools that are already out and I wrote back as he gave me
 an email address and I said, yeah, you're right except that those are only useful if people
 have weak WPA passwords.
 So WPA with a really, really random gibberish passphrase, which is a pain to establish once,
 but once done, I mean, it is truly uncrackable.
 And I did something between the last podcast and now because a couple of people said, hey,
 you know, how do I get a really good random password?
 And they provided some links to some existing online password generators.
 The problem is that those password generators aren't running over SSL and they're not perfectly
 written.
 For example, they don't have an expiration date on the page, which means that an ISP
 could cache and would cache that page locally so that somebody else might get the same page
 that you got and would get your passwords.
 And okay, that's not a big problem, but I thought, okay, GRC should have a password generator.
 So I wrote one, www.grc.com/ in your honor, Leo, I made it four letters, P-A-S-S.
 Easy to remember, pass or password, password or passwords.
 And people can put dot HTM on the end if they want to, it'll ignore it, it doesn't matter.
 Anyway, what it is, it's very cool.
 If you just go to, you know, HTTP that is not S, just regular, you know, as most people
 would, they just take grc.com/passwords in their browser, it'll see that you're trying
 to access GRC's password generator over a non-secure connection that anyone could sniff
 that is, you know, maybe available open and certainly the proxies can cache.
 It'll say, oh, no, no, no, it'll automatically redirect your browser to a secure version,
 set up an SSL connection, then on the fly, use extremely good cryptographic random number
 generation to create three different passphrases, a hex 64 character passphrase, actually 64.
 It turns out that WPA has two modes that it can operate in and the Windows WPA client
 accepts either one.
 And that is you can actually give it, 64 hex characters is exactly 256 bits.
 So you can actually give it the 256 pass, the actual encryption key, or you can use
 a 63 character passphrase, which can, which can be any kind of alphanumeric mumbo jumbo.
 So the second version is a 63 character, any printable ASCII, I mean, backslashes, colons,
 dots, periods, it looks like your computer is broken when you see this.
 And then since I wanted to make sort of a general purpose solution, and I also heard that some
 hardware might not be compatible, might not be actually on the WPA spec so that if you
 put the passphrase into two devices, you would not be able to connect because some hardware
 wouldn't be handling all the funky characters correctly.
 So the third version that comes out on my page is only alphanumeric.
 It's all alpha, you know, A through Z, upper and lowercase, and zero through nine, which
 will be acceptable by anything and is still sufficiently random that, you know, it's going
 to be very solid.
 So there's now a little service at GRC.
 It's probably beyond the scope of this, but I'm just curious.
 We've talked before about random number generators on computers not really being real or pseudo
 random number generators, because it's hard to do real, it can't do real random.
 What are you using for your random algorithms that you know they're cryptographically strong?
 I have a crypto license from RSA security themselves, I own what they call the be safe
 cryptography library, which is what I use over on my server side stuff.
 I seed it with a whole bunch of stuff, like how many processor cycles the clock has run
 since it was powered up, and the phase of the moon, and the nick address, I mean, there's
 just a whole bunch of stuff and some other information that only increments and never
 decrements.
 So I'm sure I will never repeat these, and you know, my page, my passwords page is a
 super safe place to get passwords, right?
 And a user might not want, you know, even trusting me as much as they would, might not
 want to take them as is, so you could take like do it three times.
 Oh, the other cool thing is just refresh the page.
 Every time you refresh a whole new set of, you know, pseudo random, so just three of
 them and take a third for me, exactly, or, or take it and chop it and swap pieces around
 or whatever.
 As long as it's 63.
 But it is super, super random.
 Would you recommend using 63 characters just to make sure it's compatible?
 Yes.
 Yeah.
 Yeah.
 I don't know.
 That's random.
 I mean, well, okay, it is so uncrackable at 63 characters.
 No one is going to have that in a dictionary, and it would take them forever to like come
 up with that.
 You should point out for the people who are going to be semantic purists.
 It's not uncrackable.
 It's practically uncrackable.
 Yes.
 In the lifetime of a universe, sometime it could get cracked, and it might happen less
 than the lifetime of the universe.
 By bizarre chance.
 Right.
 But if you just chose random pass phrases, you know, one in a gazillion, gazillion possibilities.
 Right.
 So mostly uncrackable.
 Yep.
 Anyway, if anyone wants to take advantage of it, not theoretically, all right, now let's
 get to VPN, this is something that's used by businesses all the time, virtual private
 networking allows a telecommuter to log into the business network in a secure fashion.
 Can it also be used by home users?
 Well, absolutely.
 And in fact, that's really sort of our focus for the podcast.
 This follows perfectly on the three segments that we've done so far on Wi-Fi and, you know,
 on the security aspects of wireless networking.
 Because the idea is, you know, basically we talked about open access points.
 We talked about weak Wi-Fi security.
 And then finally, we talked about WPA, you know, honest to God, serious industrial strength
 security.
 So the next thing really to talk about within this context is how can you be secure when
 you're at Starbucks or you're using a public access point where it's not your network,
 you're not able to secure it, you have no administrative control over it, but you want
 to use the access point in a secure fashion.
 More and more access points are offering security of some kind or other.
 But still, well, a lot of them don't.
 As a telecommuter, say like, here I am staying overnight in a hotel in Toronto, I want to
 be able to plug my computer, even not Wi-Fi, I want to plug my laptop into the hotel network.
 I don't know what's happening there.
 I have no idea what's going on.
 And in fact, it was interesting, the a column in info world two weeks ago, Roger Grimes,
 what was quoting a gal who was a security person who travels around a lot, she said half of
 the hotels, I mean, she's like on the road all the time, a real road warrior, half of
 the hotels that she's in are using hubs and not switches.
 Be meaning she.
 They're all on the same network.
 Yes.
 Well, they're not on the same network, but they're shared, they're a shared segment.
 So if she turns on ethereal to do packet capture and she does, she says, in a typical evening
 stay and there's a password capture called cane, she uses cane and cane is smart about
 the various protocols.
 It knows what it's seeing in packets that go by.
 She typically sees more than a hundred.
 The number that was quoted in the article was 118 in the clear passwords for people
 staying in the hotel.
 I mean, she literally captured their information.
 Well, I know that's the case because I'm staying in a hotel now that offers free Wi-Fi.
 When I open my iTunes, I can see other people's iTunes libraries.
 So we're on the same.
 Right?
 Well, your Wi-Fi, so you're inherently, you're in the same atmosphere.
 You're on the same planet as other people.
 They must be doing some firewalling or blocking of some protocols because I can't actually
 see their music, but I can see that they're shared libraries.
 Well, so, you know, you and I, I don't know, I protect myself.
 You and I've talked about using and needing a personal firewall.
 I mean, I'm on my laptop.
 I've got XP and I've got service pack too.
 So I've got its firewall on.
 So I know I'm, I'm okay as far as that goes, but, you know, I am not going to do anything
 where I need privacy, which, you know, even-
 Well, my data is in the clear email.
 Well, and that's the problem.
 Yes.
 As soon as I log into email, my email password and login is visible.
 Yes.
 Now, I use SSL for my email.
 So fortunately, I think I'm all right.
 Yes, you are, in fact, because SSL creates, and that's a perfect segue into this, SSL creates
 a secure connection, which is actually not a tunnel.
 A tunnel is a different thing.
 But it creates a secure transport for everything that happens afterwards.
 And that security is negotiated before any user data passes through the connection.
 Even my password?
 Yes.
 Okay.
 Yes.
 So as soon as I'm in that SSL mode, on that port, everything is incorrect.
 The original negotiation, first a TCP connection is established.
 So the SIN packets go back and forth, create the TCP connection, then a security channel
 is established within that connection, and then you actually have a user data, an application
 level channel between the endpoints.
 So that's pretty safe.
 When I do FTP, and I upload to my website, which I do, in fact, from the hotel fairly
 frequently, if I'm using plain old FTP, ports 21 and 22, and that gives them an access to
 my website.
 Well, and anyone could have the file that you were transferring.
 Also, what happens is a lot of times people use the same password for their FTP to upload
 to the website as their administrator login or SSH login.
 So that really opens you up to somebody hacking your website.
 So that's why you secure FTP when I transfer.
 Right.
 Okay.
 But I'm still open everything else.
 Going to the next level is this thing called a VPN.
 Now the reason it's available to end users, there are a couple ways it's available.
 And this week, I want to talk about sort of the theory and the technology of a VPN and
 not get into all the detailed specifics.
 We're going to do that next week because it's a big topic.
 I don't want to try to cram too much in and miss stuff.
 So the theory of a VPN, a virtual private network, the key concept is what's called a tunnel.
 With a tunnel, you establish a connection between endpoints.
 And we've talked about how packets are used to move data over the internet.
 One of our future podcasts, we're actually going to talk about how the internet works
 and get into that in more detail.
 But for now, it's sufficient to know that the data travels in packets.
 The packets have an address information on the front, the so-called header of the packet,
 where it's the source IP, the destination IP, the source port, the destination port,
 and some other stuff.
 That is normally visible to anyone who's sniffing the traffic.
 And it gives the IP of your machine where it originated and the IP of where it's heading.
 And also from looking in the packet, normal internet packets are not encrypted in any
 way.
 They're just so-called plaintext as the crypto term is.
 So anybody again sniffing the traffic can see what it is that's going on and understand
 what the traffic is.
 Now what the VPN does, which is unique and special, is it essentially encapsulates the
 packet.
 Every packet coming from your computer is encapsulated.
 It's wrapped in another packet where your entire packet is the payload, the data of
 this VPN packet.
 So the IP addresses, like where your data is going to, ends up being in the data of this
 so-called VPN tunnel packet.
 So even that's not visible.
 Even exactly.
 How does addressing happen then?
 Now what happens is you always establish a VPN, this so-called VPN tunnel, between two
 points which you're both aware of this VPNing.
 Normally you have a client and a server.
 Well actually you have peers.
 They're peers.
 Yeah, it's a VPN peering.
 So for example you could take two VPN routers and peer them together and they would create
 a tunnel.
 Or most often telecommuters would have a VPN client in their system and they'd be
 dialing into like a VPN pool in their corporate environment.
 Or and this is what we're going to talk about in detail next week, their own VPN router
 at home because you can now get consumer VPN routers which would allow you to dial into
 your home, to essentially use the internet to get you to your home router over a secured
 channel.
 Then you have access not only to any machines you have at home but to the internet just
 as you would at home out from that router.
 So once that tunnel is established it's hardened, nothing inside can be seen including the addresses
 on the packet.
 Well that's the key is that so first we have this notion of wrapping a packet in a like
 a super packet in this in this encapsulation packet.
 There's also seriously strong industrial strength encryption going on.
 So and the encryption technology is something our more techie listeners may have heard of
 called IPsec.
 IPsec is is an IP standard for for endpoint to endpoint security that establishes extremely
 strong you know virtually uncrackable encryption.
 So so every single packet is scrambled when it's put into this VPN packet.
 Now an interesting little tidbit is that Microsoft service pack I think it was the first service
 pack to broke VPN because what happens when you wrap a packet is it gets bigger and there
 are limits to the size that packets can be as they travel over the internet.
 So what what should what has to happen is that your packets your source packets before
 being wrapped need to be made smaller so that after the VPN wrapper is added they'll still
 be within that 1500 bytes Microsoft forgot that and ended up breaking VPN which was a
 good lesson to all the people in corporate America who are not installing service packs
 and major patches without really testing them first to make sure that they don't break critical
 things and it was you know Microsoft quickly scrambled to fix it but it they did break
 it with that security update interest so so essentially it's fixed since oh it was immediately
 fixed and it's like oh oops we're sorry well we won't do that again when corporate America
 howls Microsoft probably jumps a little faster than you and I howl absolutely yeah we know
 how jump they how fast the jump would I howl not at all not at all so so anyway the idea
 is that this this VPN tunneling establishes a secure channel now somebody sniffing the
 traffic is just out of luck there they could know by looking at the IP address or port number
 that it's a VPN channel because VPN channels tend to use specific ports but they won't even
 know where you're going they can't see any addressing because your entire packet is encrypted
 and even your headers are encrypted so they see nothing they will see the end point of
 the tunnel wherever that is but but not know anything about what you're doing because what
 happens is at the receiving end the the outer wrapper is removed from this packet then the
 whatever it is inside this just looks like static it looks like noise it's decrypted
 back into your original packet and then it's dropped onto the network so it's what this
 does is for example if you were using a VPN router as your normal home router you could
 from being remotely located somewhere you could connect to it through any what any open environment
 in the hotel environment that we were talking about before or Wi-Fi right the only issue
 sometimes with VPN is that those ports may not be open ah yes and that's where we're
 going to talk about problems with VPN and things that can go wrong sort of the you know here
 we're talking about the theory we're going to talk about about the practice of VPN and
 things that people need to be aware of and if you thought that WPA was acronym STU with
 RC4 and TKIP and you know AES and enterprise blah blah blah I mean this VPN stuff is when
 you look at one of these VPN clients that you have to like add the numbers to and configure
 you just glaze over because there's IKE internet key exchange there's the IP sec and
 you know it's 3DS and AES and but there are ways that you can configure all of this for
 maximum compatibility and that's what we're going to talk about next week is how basically
 who now we know everyone knows they want VPN because I mean it really is cool it allows
 you with total confidence to use your computer anywhere I mean even even you go to a friend's
 house use their Wi-Fi and VPN back to your home then you get out on the internet from
 there and you have access to any machines that you have at home it's it's a real win
 sounds like something everybody should be doing it's a it's a great solution and there
 are services out there that you can do this through as well yeah right that's the alternative
 in our earlier show we had some show notes mentioned a couple of services three of those
 and Google V had a VPN service for a while which I guess they then shut down well because
 Google was at least in San Francisco offering Wi-Fi and they plan to I think roll this out
 nationwide they do have a secure Wi-Fi and for a while people have figured out how to
 hack it and use it going through the Google servers the Google VPN servers even on your
 own access point I don't know if that hole is still there it sounds like it's not but
 there are ways you can do this as you said for yourself you can there's services you
 can use well and if between now and next week's podcast people like have to do something
 immediately anonymizer.com they have a service where they will anonymize just a few things
 like web surfing where you use them as a proxy to like filter and anonymize your web search
 and they also have exactly what we're talking about is a secure tunnel and the other cool
 thing about the SSL which is a little more transparent you don't have to worry about
 ports because SSL ports are almost always open correct and but but the other cool thing
 I want to make sure I don't forget about about tunneling is nothing nothing knows what traffic
 you're sending through a VPN tunnel it's literally it is impossible for anything to know so people
 for example have problems if they're if they're telecommuting because like port 25 for SMTP
 for email might be blocked by the hotel who doesn't want spam being sent the beauty is
 through a VPN tunnel if you if you can establish the tunnel once that's done you could do anything
 nobody can block any specific behavior you have because it can't see it's just static
 it's noise yeah it's completely transparent so part two of VPN next week on implementation
 how you can do it can we throw in a little bit stuff on the SSH tunneling as well oh yes
 yes for sure and SSL yes and I want to say that we've been getting so many questions that
 we're going to start a a practice of doing some Q&A podcasts once a month we'll just
 go through questions and well being the mathematician I'm thinking any podcast that's divisible
 by four okay so here we are on number 14 we'll do VPNs or next week and so 16 will be our
 first Q&A podcasts so every every mod 4 security now mod 4 security now mod 4 and so people
 who are submitting things on the security now dot htm page at GRC believe it or not I read
 all of that I mean it's it's it's a job reading everyone's submissions because we get a ton
 of stuff a lot of useful stuff great feedback for me because I know what stuff I you know
 we we we missed what we need to cover and so so every fourth episode you know again if
 something critical happens like did happen with a Sony DRM stuff will will hold off you
 know and and cover that and jigger our schedule around but you know I like the mod 4 we're
 gonna have to stick I like that it's good it's easy to remember yep it's like leap year
 but let's not get like leap year because then there's always those exceptions every four
 hundred years there's not one in the century mark and all that stuff if you want to know
 more of course Steve puts up great show notes at GRC comm slash security now dot htm not
 only show notes but there's also a lo-fi 16 kilobit version for people who don't have
 the bandwidth of the storage also transcripts in a variety of formats so in fact the transcripts
 have proven very popular yeah yeah do I give credit to the woman who does those for you
 do you remember her name her first name is Elaine thank you Elaine she's spectacular
 I mean she is just just super all right well well we really appreciate it it makes it much
 more accessible for people who can't listen to the podcast or want to share it she's gonna
 have to be transcribing what I just said firing her she'll be smiling you deserve all the
 praise I can give you you're fantastic and of course thanks to the folks at the AOL radio
 the podcast channel there who not only broadcast security now on their podcast channel but also
 provide us with the bandwidth AOL music dot com is the URL for that we'll be back next week
 talking about VPN implementation unless something awful happens again but that's what we're
 here for security now see it gives a thanks a lot always close to safe trip home
 [MUSIC PLAYING]
