 Bandwidth for Security Now is provided by AOL Radio at AOL.com/podcasting.
 This is Security Now with Steve Gibson, episode 43 for June 8th, 2006.
 "Horts."
 Security Now is brought to you by Astarro, makers of the Astarro Security Gateway, on the web at www.astarro.com.
 Steve Gibson is ready to talk about your "ports."
 So excited.
 You really, I think probably for many people, the first kind of introduction to the concept of "ports" came from "shields up."
 And Steve, as far as I know, I coined the term "stealth."
 I don't know. That was one that I sort of, you know, in the whole "shields up" "Star Trek" theme thing.
 I thought, "Okay, what are we going to call a TCP port, which is neither open nor closed?"
 And I thought, "Oh, stealth! Well, you know, like, you know, the cloaking feel and all that stuff, from "Star Trek."
 So, you know, and of course, as usual, all of this stuff really was the bailiwick of business and enterprise computing, networking, and all that stuff.
 But as more and more people have multiple computers in their home, suddenly we're all becoming networking experts.
 And the topic of "ports" becomes very important.
 Now, it's a little bit of a confusion because we've always had ports with PCs, but they used to be serial ports and printer ports, and that's not the kind of ports we're talking about.
 You're right. And in fact, you mentioned Enterprise, and I remember the day or the era, rather, where, and this was just, it demonstrates such an evolution in what's going on on the Internet,
 where it used to be in the early days of the Internet, when there was some mischief going on, then the IT guys would block a certain port that this mischief was coming into the network on.
 In other words, there was sort of this presumption of everything being benign, but the exceptions were things being bad. So, in terms of like a firewall methodology and the way people were thinking, you had a default allow traffic in, and then your exceptions were denying traffic.
 Boy, that's changed. Oh, my God. Talk about getting fired quickly. If you were an IT guy these days who did that, it'd be like, "What are you thinking?"
 Because, of course, today, the world is completely inverted, where, by default, you deny everything, and you only allow traffic into your border that you know you want, because the Internet's just crawling with junk.
 I mean, for example, we've got this legacy of Windows Worms still crawling around the net probing old vulnerabilities that have long since been removed, but they're still out there trying to infect machines.
 And as we know, if you did stick a computer, you had just installed XP on before doing any Windows update, before installing any service packs, that Windows XP that we were told was going to be the most secure operating system Microsoft ever created.
 You put one of those on the Internet and start your stopwatch to see how long it takes to just be taken over by the junk that's crawling around the net.
 It's nicer and MS Blast and all that.
 Oh, yeah. I mean, it's like a matter of minutes. And stuff is crawling in your machine.
 I liken it to almost to herpes or it's an infection that's endemic. It's everywhere on the net and will continue to be there. I mean, nobody's sending it out anymore.
 It's just they're infected machines who continue to do it and probably won't go away until Windows goes away.
 I think we will probably never get rid of those things. You're right. They're old unmanaged computers that are just sitting on the net in Lord knows where.
 I mean, in strange places in like long forgotten and they've got this junk in them now.
 And you know, the whole point of a worm is that it's self replicating.
 So once it crawled into this machine and set up shop, it then began scanning for others.
 And I mean, just they're just always going to be there.
 And what they're scanning for is in fact, open ports. Maybe we should define what a port is to, you know, and I think the terminology is not great.
 I think a word like channel might be might be better.
 Well, channel would be a great term because I mean, as we've talked about what we've talked about about the issue of ports in general.
 And what I wanted to do this week is really just focus on this issue of open ports because a lot of people are concerned about them.
 We get questions all the time, you know, like, I have to have this port open. Is that a problem? You know, how do I close this port?
 What does it mean to have a port open? So, so yeah, I really wanted to just focus on this issue of open ports and sort of, you know, really cover that well to to resolve a lot of these questions.
 But you're completely right. As we talked about when we were talking about the basic protocols of the Internet, ICMP, UDP, and TCP, we were we we glanced on this before.
 The idea that that unfortunately a port people associate that with a physical thing, you know, like a serial port, a parallel port, a USB port, a firewire port or whatever.
 But in fact, it's a a port is nothing but a 16 bit number, which is carried in the in a long at the front in the header of of Internet packets, which which sort of specifies exactly as you said, Leo, which channel of of many channels of six sixty five thousand five hundred and thirty five possible channels.
 This this packet is aimed at. So there's no there's no physicality to this kind of port. It's not there's there's no there's no like electronic there's sixty five thousand channel electronic switcher or changer or anything like that.
 I mean, there's no physical thing. Right. Well, the the the physical manifestation, of course, would be your ethernet port. And there again, we've got the we got that that collision of of of naming.
 So, you know, your ethernet connection is the way that this ethernet traffic, of course, travels into and out of your machine. And it's often doing so through these so-called open ports.
 But it's not like a part of the cable is this is is port 1024. I mean, it's there. It's all coming through the same electrical.
 Exactly. Yeah. Exactly. And it helps if you understand that all of the data is sent in little discrete chunks called packets and that each packet has, as you mentioned, a header.
 And inside this header is information about where that packets going, where it came from, and what port what channel it's it's server.
 Yeah. And that of course was the great breakthrough of the internet was instead of having a switched circuit system where actual physical circuits were being switched, we stepped back from it and we have a switched packet system
 where packet switching is the way is the way machines talk to each other across a network of fixed circuits. So the lines always open and data is always going, but but it's it's routed according to the packing.
 Is that Bob that CAF's invention? Is that I know he invented ethernet? Was that the kind of the part of that invention? No, that actually predates the the actual the ethernet is just one of a number of electrical
 technologies that that can be used to carry packets. But for example, token ring was IBM's network and and they use packets too.
 Exactly. So exactly. So you think surf might be certainly gets credit for IP. I wonder if well, maybe not. Yeah. Well, it was all done, you know, a long time ago at the beginning of the net when it was all being put together.
 The beginning of time. I guess Paul Barron is the guy who invented packet switching or one of the guys who invented packet switching. So, so fundamentally, we have at sort of like the the core for a machine which is on the internet is the operating system.
 But the operating system doesn't itself natively have any ports. That is, it supports the the protocol and the ability for the OS to communicate by providing services, you know, like the so called TCP IP stack and IP services.
 The operating system will will support IP addresses, which allow it to accept these packets, but but something then after the operating system, some something running in the operating system is is the actual entity which which creates and opens these ports.
 Now, for example, in the case of windows, it may not be a separate application. It might be a service, which, which really is part of the operating system, but it's a separable part. I mean, for example, you can stop the service or remove the service in order to close the ports that that service opened.
 And then, and then the next level sort of like for of distance from the operating system are actual applications, which are running in the operating system like, you know, you and I are using Skype right now.
 It's it's running as a program on top of the operating system using the operating system's lower level networking facilities to allow it to communicate out on the Internet so that our two Skype clients are able to connect to each other.
 And Skype is kind of independent of what port you're using. In fact, you can in Skype say, no, no, use this port or use that port, but it works exactly the same. It doesn't. It's not tied to the port.
 It doesn't care exactly. So, so there are as also as we talked about before, there are sort of what's called well known port numbers where, for example, DNS, the domain name system that allows web names to be met to be looked up and matched to their IP address.
 By agreement, it uses port 53. And so, so you the DNS server is listening for packets coming into port 53 of any computer that is running on and your own clients are sending their data out of port 53 bound for whatever DNS service they've been configured to operate with.
 And of course, we know that web uses port 80 and 443 for SSL secure connections and on and on. So there there's a there's a large array of well known ports.
 The idea being that that systems will by default have services running in them listening for incoming traffic on those ports.
 So, so if we if we remember what we were talking about, we were talking about TCP before the transmission control protocol.
 The idea is that the the operating system is doing the work for the application of of establishing and sort of getting the connection going.
 And this is where this notion really of an open port comes from, because when when a connection wants to be established with the machine, a sin, SYN, which is short for synchronized packet is sent to that IP address that the computer is listening on.
 If the poor if it's a TCP port, which is open, which is to say there's something that is is said, I want to accept connections that are coming into this port or as as we've said, sort of a really sort of a virtual port more like a channel.
 Then, the operating system will send back what's called a SYN AC and its own sin and an acknowledgement of the receipt of that incoming SYN.
 Well, that's sort of this whole key of what makes the port be open is that that anybody literally on the planet can send one of these SYN packets at someone's machine.
 And if it responds with a SYN AC, then we then we know that something is there at that IP address, even if it's across the planet, which is is ready to to accept a connection and have some sort of transaction with us.
 And every time you describe these things, I just am impressed with how they thought this stuff up. And then it has survived the test of time. I mean, so well.
 And so that's really what it was that got me thinking about shields up. Back then, and we're talking years ago, I was setting up an ISDN connection for my company.
 There you go. There's that. That'll tell you how long ago it was. It was exactly DSL pre cable modem, you know, ISDN.
 It was exactly was an ISDN connection. And, and I remember I was aware of this whole issue of ports and security. And so I got one of the I just downloaded one of the free online scanners that were available on the Internet and still are.
 And, and I just, I was curious, like, what was going on in the neighborhood of the IP address that we'd been assigned. So I, I just set the scanner up to like scan, I don't know, like, you know, the hundred IPS plus or minus where where the IP that we'd been assigned was.
 And there were all these computers that had, and in fact, this particular scanner was scanning for Windows file sharing. And I mean, there were literally the names of machines and the C and D drives wide open exposed on the Internet.
 That must have been a shock. Well, yeah. I mean, it was enough of a shock that it was, I thought, you know, nobody knows about this. This needs to receive attention because people were putting their Windows machines hooking them directly to the Internet.
 This is before personal firewalls before net routers, just literally plugging them into the Internet and, and by default, Windows machines all had this file sharing port open, meaning that even if the user hadn't hadn't shared any files, they still Windows had all these services
 that were running in the, in the machine by default, accepting incoming connections from anyone on the planet.
 And so it was finally, I mean, it was that the recognition that this really needed attention that caused me to just say, okay, I'm going to do this thing that's going to make it very easy for people to check their systems to see if they're in this kind of danger.
 So, you know, the very first version of shields up primarily checked for Windows file sharing. And then I expanded it in several second, you know, several follow on generations to, to, to do, like, for example, now it does a full 1056 port scan to check from ports, actually, even including zero, which is not a legal port, but it turns out there are some vulnerabilities
 and routers that will accept traffic on ports. All the way up through 1056 in order to look at the even, even the low client ports under Windows.
 But so the, anyway, the idea was that, or is of TCP, that that software running in this system will instruct the operating system to open a port. What that means then is that that port will respond to will affirmatively respond to incoming traffic.
 Well, now, an open port responds affirmatively, but it turns out that even a closed port, that is a port for which there is no listening software associated with it. And there is no program that is told the operating system.
 I want you to accept on my behalf traffic coming in and do the low level housekeeping work for me of setting up a connection. In that case, a packet coming in and hitting a standard TCP IP stack will generate an affirmative denial of a connection attempt.
 Normally, it'll get back a reset or sometimes an ICMP message saying there is no service available on this port at this IP. So, although you haven't confirmed that you've found something potentially vulnerable, for example, a service that you may be able to exploit
 by virtue of the fact that it's going to accept a connection from you and you're able to mess with it. What you have confirmed is there's a computer of some sort listening for incoming traffic on that IP.
 So, those ports are considered to be closed, but they're still known to exist. And of course, then the next stage of this is the so-called stealth port where incoming traffic hits the machine.
 If the port is not open and would normally respond in some affirmative fashion saying no traffic is being accepted on that port, instead, the machine is completely mute. It just says nothing.
 And that's, of course, exactly the response that you generally get for a dead connection where there's just nothing on the IP at all. And that's your so-called stealth mode.
 Which, of course, has now become the way to be on the internet. It's interesting. I mean, there are people who argue that stealth is bogus.
 What? Oh, yeah. It's the old Unix guys. And they also dislike the idea that stealthing a machine technically breaks the IP or the TCP.
 It's out of spec. It's out of spec, exactly.
 Well, that's a purest point of view. But frankly, if you think about it, if bad guys come and knock in, what's the best response? We don't have any money in here or nothing.
 Yes, it worked. Exactly. There is no in here. There is no in here. Nothing exists at this address. Move on.
 Right. So, I mean, you could be a purest about it. But frankly, I think it's pretty obvious what the best choice is.
 Well, yes. And the fact is, since it costs nothing to be stealth, why not be stealth? I mean, since it costs nothing to be invisible, it seems to me it's better, exactly as you said, to be completely invisible on the net
 than to say, "I'm here." But, you know, all the ports you've checked so far are closed.
 Now, it does come up from time to time that, well, this happened with the IDENT deport, where a router manufacturer decided it wasn't a good idea to stealth that port because some services were still using it, and an invisible port wouldn't be a appropriate response.
 Well, that's a very good point. The example you cite, the IDENT port, what happens is when a user is trying to connect to a server, and this is generally, I mean, just ancient servers.
 I mean, there are some IRC servers, some really old web servers, sometimes some FTP servers. Part of the connection protocol is when a connection request comes into the server, it sends back an IDENT packet to the IDENT port at that user's IP because in the old days,
 people would have these things called IDENT servers where they would list a whole bunch of information about themselves.
 I mean, who's going to do that today? I mean, nobody, because basically, you're sort of saying, "Here, here's everything you want to know about me, exactly."
 So, I mean, it's been forever since anyone actually ran an IDENT service, but what the server that makes the query wants is at least to get an affirmative statement that, yes, there's a machine here,
 but nobody's home. So, what normally happens is the IDENT uses TCP protocol. So, the server will send a SIM packet trying to establish a connection in the reverse direction back to the client.
 Well, as we know, TCP is very patient about getting a connection established. It'll send a SIM packet. If it doesn't hear anything else, it'll send another one.
 Then it waits twice as long and send another one. Then it waits twice as long again and send another one.
 Some machines will send up to five packets and you can end up like waiting a minute before the thing finally decides, "Okay, there's nobody here."
 The problem is that all of that suspends your main connection to the server. That is the server. Everything just stops on the server while it's trying to establish this painfully slow process of getting a TCP connection.
 If the far end did say, "No, I have no IDENT service," by sending back an ICMP or by sending a TCP reset packet, then at least the server would know, "Oh, okay, no service," but there's somebody here, and it would typically this, then it doesn't really care about the IDENT. It's just all technology that is still in some servers on the Internet.
 So what is the harm in doing that then? Now I'm going to play devil's advocate and say, "Well, in that case, why do we bother stealthing that port?"
 It's just that, "Well, actually, I think probably GRC is at fault."
 It's your fault. I'm not kidding. I was showing everybody that their IDENT port was not stealthed and stealth became a cool thing to do.
 And people begin asking their router manufacturers and their personal firewall manufacturers, "Hey, Gibson says, "My IDENT port is not stealth. I want to be stealth."
 And so just really due to popular demand, the router manufacturers said, "Okay, fine. We'll stealth the port."
 Well, the problem then is that some connections will stall when you are going out through a router or out through a personal firewall, which stealths the IDENT port.
 So then the next generation of this came along, and that was adaptive stealthing, or adaptive IDENT stealthing, where the router would be smart, and it would stealth the IDENT port from any source IP that is the remote server trying to open an IDENT connection back to you.
 It would stealth that unless it saw that you had an outgoing connection to that IP, which is a perfect solution.
 So you established it, a connection, and it asks back, "Well, you got an IDENT server? You can respond to that."
 Exactly. Then you say, "No, I don't." But at least the far-end server is happy that you exist.
 You acknowledge that immediately, and then you get on with your main connection establishment.
 Here's the thing. Would you mark that as a stealth port?
 Yes. In fact, I do it on purpose. Shields up. It checks the user's machine from an IP different than they are connecting to us from.
 To avoid this thing.
 Exactly. So I do it on purpose in order to give them credit for and to show that their router is stealthing IDENT for random sources of IP addresses out on the Internet, not the ones that they're actually trying to connect to.
 So it ends up being a very useful thing.
 Now, we should just mention that the reason that you want it to be stealth is any indicator, even on a completely safe port like the IDENT port, any indicator that you exist could be a message to a hacker.
 Well, at least there's something here you might want to keep investigating.
 Well, here's a perfect example, Leo, and that is denial of service attacks.
 If you piss off somebody on the Internet who's got control of even a small botnet and they decide they're just going to DDoS you into oblivion, well, they'll blast you for a while and then typically stop the attack so that they can see if you're still there.
 Well, you know, you'd very much like them not to be able to tell that you're still there. Only if you're stealth, can you pull that off?
 If they were able to ping you or to bounce packets off you or try to open a connection and get back an affirmative closed state from you, then they'll know you're still there.
 And it's fairly trivial to actually test each and every of the 65,000 ports. I mean, computers are fast. So if even if there's but one open or not, not even open closed but not stealth, they'll know you're there.
 Well, yeah. In fact, if you're running a system that is not stealthing you, every port will at least say either it's open or it's closed.
 So in order to be completely off the net in appearance, you really do need the technology which is going to stealth you.
 And as a matter of fact, I've seen dialogues where hackers know that IDENT is often not stealth.
 So they're specifically trying to open an IDENT connection because unless it's adaptively stealth as all the latest firmware and personal firewalls
 are generally now able to do, it will look like it's closed and they'll know you're still there.
 So thanks to grc.com and shields up, all routers, all consumer grade routers that ship these days ship with stealth turned on.
 Yeah. Yeah. I mean, it's the right way to go. There's just no good reason not to be stealth where you can be.
 Now, am I throwing all the value of stealth out though by having some open ports?
 Probably not because you don't know what it is that might be looking for you.
 You might have, you know, a hacker might specifically be scanning for a new vulnerability which has just been found like in my SQL.
 And so it might be looking for the to see whether you have a SQL database server port open.
 So it would be specifically checking for that port.
 If you look at the hacker tools, they usually will say what port do you want to hit and what range of IP addresses do you want to test?
 Right. And you could test a range of ports, but for efficiency sake, they may just be going after that one port.
 Well, now it's also necessary since we really want to cover the topic of open ports well in this particular episode.
 It's necessary to talk about the fact that UDP protocol is every bit as viable as TCP.
 But because it doesn't have this whole introductory hand shaking going on where you send the sin and the sin act comes back or you send the sin
 and a reset comes back, it's UDP ports will generally operate or may operate differently.
 That is to say that as we know UDP doesn't have this connection establishment hand shake which is really the benefit for very short term connections.
 For example, the DNS protocol for domain name services generally you just send a single packet off to a DNS server and it sends you a single packet reply.
 So it's extremely efficient since DNS is going to be transacting such small amounts of information.
 You wouldn't want to go through all the trouble of having a three way packet handshake, then send your request, then get the reply,
 then you don't have to shut down that existing or established connection through another series of packets.
 So a DNS uses UDP.
 It actually uses both. It'll use UDP but there's a limit.
 One of the reasons that UDP actually isn't convenient is if you need to send a lot of data because generally UDP is sort of packet oriented.
 Again, all of these things sort of have caveats.
 For example, you and I are using UDP right now for sending for streaming substantial amounts of data between each other during this podcast.
 But what's happened is a protocol on top of it, the typical VoIP protocol is called SIP which is used on top of UDP to sort of give it the ability to do more.
 But in the case of DNS, it is possible to connect with TCP to a DNS server and then make your queries that way if you needed to for some reason.
 For example, there's something in DNS called a zone transfer where you basically say tell me everything there is to know about grc.com.
 But in the old days, you only could use TCP for one of these so-called zone transfers where you're saying I want to know about all the machines within the grc.com domain, the email servers and everything going on and give it all to me and you cannot do that over UDP.
 So in general, UDP is a much more quick, simple, lightweight protocol.
 It also means that you might have a UDP server with an open UDP port as opposed to an open TCP port and you would not really be able to tell that it was there unless you asked it in its own particular protocol.
 For example, if you wanted to find out if someone was running a DNS server, you'd have to send a DNS query to port 53 and see if you got a response, whereas the whole opening connection dance with TCP is generic.
 You do the same three-way handshake no matter what service, whether it's web or for example DNS over TCP or FTP or any other TCP-based protocol.
 So if you're a hacker sniffing TCP ports, you could just send a send every port one after the other and say hello and that'll tell you that port's there.
 But if you want to sniff UDP ports, you'd actually have to use the appropriate protocol on each port.
 Exactly, in order to satisfy the server that may or may not be listening now.
 So it's much more complicated to sniff UDP ports then.
 It's a lot more complicated, although again, the original spec for the Unix machines, you know, where all this originated does say that if a UDP packet arrives where there is no service listening and that has told the operating system that it wants
 it to forward packets that arrive on a certain port to it, then the operating system should send back an ICMP specific ICMP message saying there's nothing listening to this port.
 So UDP ports can, by default, show themselves as being closed. That is you get back something saying there's nobody here. So again, you'd like to stealth that behavior and of course that's what personal firewalls and routers do.
 I think this is great. You know, when you we deal with this all the time when you go into your router, for instance, to port forward to make some port work, let's say you've got a router that's that's, you know, rightly so blocking all ports, but you
 use a, you know, you want to set up a server for World of Warcraft, you'll see all this, you'll see UDP versus TCP and, and which port number and all sorts of stuff. But now you know what it means.
 Well, it's interesting too. You were talking about port forwarding and I remembered that that also bears on the IDENT port because there are still some older routers whose firmware does it will it will not stealth the IDENT port.
 You will respond that there's nobody here, but a really fun workaround is to forward that IDENT port, which by the way is 113. You forward that to a non existent IP address behind the router that is on your own network.
 For example, if your IP addresses was 192.168.0.1 to 100, you could tell the router forward that to 0.200, like a machine that you know will never exist. And what the router does is dutifully accept that incoming ICMP packet and sticks it on your network aimed at an IP that doesn't exist.
 Well, since it doesn't exist, there's nobody to answer the call and you end up stealthing your IDENT port if your router otherwise would not do so for you.
 So, so, I mean, so, and of course, that works for anything that you want to do. You could you could aim any ports that you wanted to stealth that the router wasn't just off into the Twilight Zone to an IP inside your network that doesn't have a machine listening on it.
 And those packets are just going to go nowhere. They just end up being dropped.
 Well, I think you have we covered the subject? Do we know everything we need to know about ports?
 The one thing that I think is worth mentioning to people is that is that all of this problem, which has been lots of history.
 You know, we talked first about this notion of of firewalls by default, allowing traffic and then IT guys blocking only the mischief and how that's completely flipped around.
 Well, the old days of Microsoft Windows and for that matter, other operating systems generally had lots of things listening because there wasn't there wasn't a compelling reason not to.
 And of course, in Microsoft's case, Microsoft always wanted to default towards allowing traffic because they just wanted things to work.
 I mean, and they sure did, boy. You know, you stuck your Windows machine on the Internet and you could share your files with anybody in the world.
 Whether that's what you had in mind or not. And they want, you know, they want a Windows so that when you click your machines together into a network, they can all see each other and they can all happily share files.
 Unfortunately, putting Windows onto the Internet was the same as putting it on your network.
 So it's really worth mentioning that this is all changed now.
 Finally, I mean, I don't know why it took so long, but it did.
 It's changed with service pack two of Windows XP where there is a built-in firewall and it is on by default.
 And I mean, you know, there are people who are still downloading my decompobulator and my unplug and pray utilities.
 Those are things which I created in a day immediately after a new vulnerability had come out and well before, in some cases, months before Microsoft did anything to deal with it.
 And those things I created to like kill off those ports or shut down those problems because we still didn't, many people did not have personal firewalls.
 XP didn't have a personal firewall in the beginning that was turned on all the time.
 Earlier versions of Windows never did. I mean, back then, people were still using, you know, 95 and 98.
 But it's really the case that these problems have been solved just by, first of all, by people having NAT routers.
 I mean, if you've got a NAT router in front of your system, it matters to a far lesser degree what ports are opened on your machine itself.
 And you can see that because if you use shields up at GRC, it'll show you everything is stealth. Even if you've got open ports on the computers in your own network, the reason being nothing gets through your NAT router.
 We're testing your public IP, not those private IPs that no one can access anyway because they're not routable on the internet. There's no way I can send traffic to 192.168.0.1 in order to test it because that IP won't go anywhere.
 I can't, you know, thousands of tens of thousands of people have that IP on their machines behind their routers.
 So it really is the case that this problem with computers having open ports has really been mitigated first by the advent of routers.
 And secondly, for those who are not behind a router, certainly with a personal firewall, which is on and doing its job as the built-in firewall and Windows XP does, which really means then that the frontier for the concern for open ports is ports opened in routers.
 And so the last thing we're talking about is the people who are worried that for whatever reason they have to have exposed open ports.
 You know, what does that mean to have an exposed open port, something where they're just not able to be stealth because they need to have services that are available out on the public internet.
 And this is interesting because it factors exactly into the discussion we've had about buffer overruns, because unfortunately, the exposure of an open port is that traffic is going to be flowing back in through your router, then to whatever machine you have designated on the router will receive that traffic.
 And presumably, you have something there on that machine, some application, which is then going to be accepting the traffic.
 The problem is, as we know, it is very difficult to write perfect software. The classic, the classic boondoggle of an open port was PC anywhere, which many people were using in the early days of the internet, because it allowed them to connect to their machines at home and do whatever they wanted to.
 That's why it was called PC anywhere. The problem was, yeah, it had serious security problems that were being found one after another after another.
 Many people didn't even take the trouble to put a strong password on PC anywhere. So everyone knew what the default password was, and bad guys would scan the net for the standard PC anywhere port and connect to people's machines who never took the time to change the default password.
 So the problem is, if you've got ports exposed, if you've got ports open, it is something you need to recognize as a potential problem, and that is that you are then depending upon the security and the proper functioning of whatever software
 package it is, which is listening to those ports. In fact, when I fired up Skype just now, Leo, in order to establish our connection, I got a message telling me that there was a new version available because a security problem had been found and fixed in Skype.
 So I was like, "Okay, I'm going to update myself right now." Right, right. Anytime you're running a service of any kind, in order for that service to work, you have to open a port and that opens up your system to trouble if the service has a bug, and as you point out, it's inevitable. There's always bugs.
 Yeah, it's just so difficult. This was the huge problem Microsoft had with all of their services. Virtually every single one of them had multiple problems that were found and exploited, and that's where the worms came from that we were talking about before, specifically from these kinds of problems.
 So the good news is security is on everyone's mind. Certainly security is foremost in the minds of anyone writing applications. I would say the only piece of advice, if you have to have ports open, is try to use robust, well-tested services that you have every reason possible to believe are not going to have problems.
 And in fact, if you really wanted to go a step further and you had the ability to, I would say, run those machines separately. That is, it may be the case that you've got an old computer, let it be the one on the front line in the so-called DMZ, where it's going to be receiving that traffic and not run those services on your main machine where you really have much more valuable data.
 And you want to make sure nothing is able to crawl into it.
 And it's another reason why people should go out and get routers if they don't already have them and use them. And the minute you do, in fact, every time I install a router, and as soon as I've changed the password and turned off universal plug and play, I'll go to grc.com and run shields up and make sure that I don't have any unstelft ports, and that's what a great service that is.
 You also want to make sure when you're setting up a new router that you remember to turn off anything that's like WAN-side stuff.
 Many routers have WAN-side administration where...
 I mean, the other guy can administrate your router.
 Exactly. For anyone on the internet.
 Bad idea.
 That's not a good thing to have.
 Not a good thing to have.
 I mean, again, if you have to use it for whatever reason, then you want to take the time to do a really good, to choose a really strong password that no one is going to be able to guess.
 Because if your router is accepting a connection on its standard WAN port, then somebody out there could just sit there pounding away on it, doing a brute force password attack, trying to get control of your router.
 It's certainly better, first of all, not to run it on the standard port.
 Always move those things to a different port if you have to have them at all, and then run a really strong password.
 And you could be sure that if it's out there, somebody's banging on it.
 That's the other thing we've learned on the net, is that you can't just kind of skate anymore.
 People are out there all the time.
 For example, the way I've got my equipment at level three configured for the GRC network, I need to be able, if the worst happened, I needed to reboot a machine.
 I need to be able to power cycle the machine, or get console access remotely.
 So I've got some equipment which are neat little rack-mounted boxes, but all they have is Telnet. They don't have any provision for stronger authentication.
 I can't do SSH or SSL. No, it's horrible.
 And there's no provision for changing from the default Telnet port of 23.
 So I've got these three boxes sitting there that I have to have access to from the outside.
 I mean, that's the whole point of them, is I'm able to get to them from my home network, or when I'm on the road.
 So the problem is they will only listen to port 23. They do provide a password, but it's just eight characters.
 And it's my network. It's the GRC network. And if someone accessed it, they could turn off the equipment at GRC.
 So obviously, the only reason I'm saying this on a podcast is I've solved the problem.
 I was going to say, you're asking for trouble here. What did you do?
 What I did was I found a really nice managed switch. I have a Dell managed switch, which is surprisingly inexpensive, which allows me to filter those ports
 and only allow specific IP ranges to see them at all.
 So only somebody from your IP address can log in at port 23.
 Exactly. And in fact, that equipment, it doesn't exist for anyone outside of specific networks, which I have predesignated as being allowed to send traffic in.
 That's a good way to do it. That's super stealth.
 Well, and you have to, because you just can't have a service exposed on the internet, especially a well-known service, especially from a well-known company.
 It's just going to get attacked. Because someone's going to write something that sits there and starts with A, and then B, and then C.
 Right. It can take long. Eight letters. Exactly. And does a brute force attack.
 Well, I just want to circle back and say that we can thank, in particular, two different people for packets, the notion of packets.
 I did say Paul Barron. He did this research in the early '60s at Rand Corporation and wrote a paper on the idea of a packet switch network.
 And a Brit named Donald Watts Davies, who simultaneously, but independent of Barron, wrote some papers on...
 In fact, he's the one who coined the term "packet switching" and describing that idea.
 And it really does go back to one of the great pioneers of the internet, Len Kleinrock, who wrote some papers theorizing that the best way to do this would be with packets.
 In fact, created the idea of a notion of data blocks to solve the issue of data flows.
 So it's been around for a long time. And I have a poem I want to read.
 Do you mind? No.
 I'm going to tell you the story about this poem a little bit, but it's been going around the internet for years.
 I'm just going to read one of the verses. If a packet hits a pocket on a socket on a port, and the bus is interrupted as a very last resort,
 and the address of the memory makes your floppy disk abort, then the socket packet pocket has an error to report.
 Just thought I'd pass that along to you.
 That's pretty good.
 Actually, it's quite a bit longer. It's written by a guy named Gene Ziegler, who is at Cornell, wrote it in '64, and it's been going, or '94,
 I should say, but going around the internet as written by Anonymous.
 But it's a long parody of Dr. Seuss that is really quite funny, and I'll put a link in the show now.
 I was just going to say, put a link in the show now.
 Maybe what I'll do is I'll read it, giving credit to Gene Ziegler, and put a copy of the recording up.
 I read it years ago on the site as DevNol, a virtual character.
 I'll just read the last verse.
 When a copy of your floppy is getting sloppy on the disk, and the microcode instructions cause unnecessary risk,
 then you'll have to flash your memory, and you'll want to ram your ROM quickly, turn off your computer, and be sure to tell your mom.
 The page is a grandchild's guide to using Grandpa's computer.
 He wrote it after his grandkids messed up his Mac.
 That's very cool.
 And we also, of course, want to remind people that grc.com is available 24 hours a day to check your ports, baby.
 Shields up as one of the many resources, valuable security resources Steve makes available for free.
 But it's all supported by his great program, Spinrite, the ultimate disk recovery and maintenance utility,
 which everyone should have a copy of in this entire world.
 And if you don't, go to grc.com and get yourself one.
 And also, if you want 16 kilobits versions of the show or transcripts, thanks to our transcriptionist Elaine.
 Those are also available at grc.com/ I'm going to do this security now.
 Yep.
 They're waiting for the HTM.
 No HTM necessary.
 Yep.
 No WWW no HTTP anything.
 Hey, I want it.
 We got a note from Alex Nihaus, who is at Astaro, our great sponsor.
 And you remember that last episode, we were talking about nat traversal, maybe two episodes.
 No, I guess it was last episode.
 Yeah, it was last episode.
 But we talked about how nat traversal works and then the notion of friendly versus non-friendly routers.
 Right.
 That would behave or not depending upon how they mapped the ports through the router.
 And of course, Astaro makes, you know, this is security gateway software.
 So he actually sent a note to his engineer saying, "Do we do this?"
 And they actually do it.
 It sounds like quite right now.
 I didn't fully understand that.
 Actually, they do it so right that, I mean, it's like the best way you could.
 What they do is, and this is the Astaro security gateway, when it's running in a NAT mode,
 they will leave the source port unchanged as it moves across the NAT.
 So most routers do not do that, right?
 They change the port.
 Correct.
 Most routers just make up a random port and assign it in a table.
 So they're always changing the source port.
 And what you're hoping for is that the source port will be the same even if the destination
 IP is different.
 That's the critical feature that you need for peer-to-peer friendly NAT.
 Well, the Astaro NAT is like the best it can be because it will leave the source port alone
 as it crosses through the NAT translation, only changing the source IP from the machine
 behind the NAT to the NAT address itself so that the packet is able to come back.
 And what's very cool is that the only time when it will change the source port is if
 you happen to have two different machines both communicating on the same source port
 both to the same remote IP because there it's very clear you would need you to have to
 change the source port in order to disambiguate those two machines from the outside.
 But unless that's necessary, the source port is not changed, which means that the Astaro
 NAT is like, I mean, it's going to be the friendliest NAT you could ever have.
 That's slick.
 That's right.
 By the way, I'm using one.
 Yeah, it's free.
 You can get the software for free.
 I'm using one right now, and I'm really happy with it.
 I feel kind of powerful.
 I do want to mention Astaro is, of course, our sponsor.
 And we've mentioned before that you can get the Astaro security gateway software for home
 users.
 Absolutely free.
 For a little bit more, you can upgrade it to spam, antivirus, protection, and really
 is powerful stuff, but I also want to mention that there is a new managed system, the Astaro
 Command Center.
 I've been looking at the screenshots of this.
 It is so slick looking, ACC version one.
 It is free for users of Astaro security gateway, so I'm going to download it.
 And it's really designed for network administrators who have multiple gateways.
 It allows you to manage and control those gateways from a single slick looking dashboard.
 I mean, this thing is gorgeous, really looks good, includes a world map so you can see
 where your gateways are all over the world, and you can, you know, that has this monitoring
 so you can see where the threat levels are, the, I don't know about threat levels, but
 resource usage, you can see the threat levels, but let's hope you don't have any threat levels,
 but the resource uses for all the gateways in the network, and you can coordinate them
 and manage them, you know, start up, shut down and maintenance and all of that stuff.
 I've got some friends that manage the security for like a bunch of small networks, and this
 sounds like it'd be just the thing for them.
 Exactly.
 So if you're already using asg, just go to astaro.com and you can download the Astaro
 Command Center version 1 v1 from the products section, which, you know, I mean, I think
 it's one of the nice things about using software like this, open source software like this
 is, is it gets better all the time, and it's just wonderful.
 I mean, you really get a real benefit from it.
 I know I almost wish I had a big managed network, it wouldn't be any good for me.
 I just use the home version, astaro.com we thank them for their support.
 And of course we thank the pro, the good folks at the AOL for supporting the show with the
 bandwidth, which is always an issue with a show like this with hundreds of thousands
 of listeners that that bill can add up, but AOL has been very generous and we encourage
 you to find out more about podcasting at AOL on the channel by going to aol.com/podcasting.
 Steve, I'm so glad you did this, I think ports are, you know, probably the single most confusing
 and interesting topic and certainly the thing that we all have to deal with all the time.
 Well, yes, and I think it's that they're so visible.
 I mean, it's the thing people can see and it causes concern, so I just wanted to cover
 that really well.
 And it's one of those things in the computer world that really, I don't think anybody
 ever intended end users would have to deal with.
 It wasn't designed for end users, but we do.
 Oh, I mean, neither was HTTP call and slash exactly timbre is embarrassed anybody has to
 see that, but that's how things evolve and that's the idea is great Steve.
 We'll see you next week.
 You have any idea what we'll be talking about or absolutely it's episode four four must be
 a mod four.
 Yeah.
 Well, so we'll do Q and A anybody who's got any questions they can go to GRC.com slash
 security now down at the bottom of the page is a form.
 And your questions to us I'll read them and we'll, we'll pick from them and answer 12.
 All right.
 And of course, that's also a good place to go to the discussion groups, the security
 discussion groups on GRC.com and you can get your questions answered by Steve and other
 experts.
 It's really a really wonderful resource.
 GRC.com.
 Thanks Steve.
 Always a pleasure Leo.
 Talk to you next week.
 Security now.
 Yeah.
